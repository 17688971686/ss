<style>
.k-grid td {
    border-style: solid;
    border-width: 0 0 0 1px;
    padding: .4em .6em;
    overflow: visible;
    line-height: 1.6em;
    vertical-align: middle;
    text-overflow: ellipsis;
}
.xs{
	min-width: 124px;
}
</style>
<meta charset="UTF-8">
<div ng-include src="'/contents/common/dialog-alert.tmpl.html'"></div>
<div ng-include src="'/contents/common/dialog-confirm.tmpl.html'"></div>

<div class="well well-sm" style="background:white;">
    <ol class="breadcrumb">
    	<li style="color:#0b8d39;padding-left:15px;"> 当前位置：</li>
    	<li>用户部门管理</li>
        <li><a href="#/user">用户管理</a></li>
        <li class="active">{{vm.title}}</li>
    </ol>
    <form id="form" name="form">
        <div class="toolbar">
        	<@shiro.hasPermission name="user##post"> 
            	<a class="btn btn-sm btn-primary" href="#/userEdit/"><span class="glyphicon glyphicon-plus"></span>新增用户</a> 
            </@shiro.hasPermission>
            <@shiro.hasPermission name="user#deleteUser#post">           
            <button class="btn btn-sm btn-danger" ng-click="vm.dels()" ng-disabled="vm.isSubmit"><span class="glyphicon glyphicon-remove"></span>批量删除</button>
        	</@shiro.hasPermission>
        	<button class="btn btn-sm btn-warning" ng-click="vm.userSync()" ng-disabled="vm.isSubmit"><span class="glyphicon glyphicon-warning"></span>同步用户</button>
        </div>
        <script type="text/template" id="columnBtns">
		<@shiro.hasPermission name="user#deleteUser#post">
			<button class="btn btn-sm btn-danger"  ng-click="{0}" ><span class="glyphicon glyphicon-remove"></span>删除</button>
		</@shiro.hasPermission>
		<@shiro.hasPermission name="user#updateUse#post">
	        <a class="btn btn-sm btn-primary" href="#/userEdit/{1}"><span class="glyphicon glyphicon-pencil"></span>编辑</a>
		</@shiro.hasPermission>
			<div class="btn-group"> 
				<button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown" ng-disabled="vm.isSubmit">初始化<span class="caret"></span></button>
				<ul class="dropdown-menu xs" role="menu"> 
					<li> <a href="javascript:void(0)" ng-click="vm.initUser('password','{1}')">密码</a> </li>
					<li class="divider"></li>
					<li> <a href="javascript:void(0)" ng-click="vm.initUser('loginFailCount','{1}')">登陆失败次数</a> </li>
				</ul> 
			</div>
		</script>
        <textarea id="rsaPrivateKey" rows="15" cols="65" style="display:none">
			dd6be3d4de56287b8c3616b33bc1b7a5a2bb9148252140262420ee047f83b3165fb7674a759d60c24b71fd5437c7810f127f2c4370c2d4bdfcb55c08f1b3c715b7b2f57228e78e34039d2b967f54a58e345bc91e3dd54c7bea86d73c9e2de968736bf2b97f50bea891aa3519ae7238d76dff57cabba7cc0d370775657f3b5c83
		</textarea>
		<div id="customerSettings">
         <div class="grid" kendo-grid="grid" k-options="vm.gridOptions"></div>
         </div>
    </form>
</div>

