<style>
	.cs-title{
	 height: 30px;
	 line-height: 30px;
	 font-size: 16px;
	 font-weight: bold;
 	}
	.cs-box-custom{
		background: #f5f5f6;
		overflow: hidden;
		margin: 2px;
	}
	.cs-list-text{
		min-height: 190px;
		text-align: center;
		line-height: 180px;
		font-size: 30px;
		color: #6b6b6b;
		font-weight: bold;
	}
	.cs-list-bottom{
		background: #00c1de;height: 40px; line-height: 40px; text-align: center; color: #fff;
	}
</style>
<div ng-include src="'/contents/common/dialog-alert.tmpl.html'"></div>
<div ng-include src="'/contents/common/dialog-confirm.tmpl.html'"></div>
<div class="well well-sm" style="background:white;">
	  <ol class="breadcrumb">
		  <li style="color:#0b8d39;padding-left:15px;"> 当前位置：</li>
		  <li><a href="#/">首页</a></li>
	      <li>项目管理</li>	 
	      <li class="active">政府投资项目列表</li>
	  </ol>
</div>
	  <script type="text/template" id="columnBtns">
			<a class="btn btn-xs btn-primary" href="#/projectEdit/{0}/{1}"><span class="glyphicon glyphicon-pencil"></span>编辑</a>
			<!--<button class="btn btn-xs btn-primary" ng-click="{2}"><span class="glyphicon glyphicon-question-sign"></span>是否填报</button>-->
		  	<button class="btn btn-xs btn-primary" ng-click="{3}"><span class="glyphicon glyphicon-question-sign">纳入/纳出项目库</span></button>
	  </script>

<!-- <div class="well well-sm" style="background:white;">	  
	  <div class="row">
	  	<div class="col-md-3">
	  		 <div class="cs-title">项目总数统计（个）</div>
		     <div class="cs-box-custom" style="min-height: 280px;">
	             <p style="padding: 20px;"></p>
			     <div class="cs-list-text">{{vm.totalProjects}}</div>
			     <div class="cs-list-bottom" ng-click="vm.showTotalGrid()" data-toggle="tooltip"
	        		data-placement="bottom" title="点击显示项目列表">项目列表</div>
			</div>
	  	</div>
	  	<div class="col-md-5">
	  		<div class="cs-title">项目阶段分类统计</div>
			<div class="cs-box-custom" style="min-height: 280px;">
		 		<div id="stageStatistics" style="min-height: 280px;"></div>
			</div>
	  	</div>
	  	<div class="col-md-4">
	  		<div class="cs-title">项目月报分类统计</div>
			<div class="cs-box-custom" style="min-height: 280px;">
		 		<div id="monRepStatistics" style="min-height: 280px;"></div>
			</div>
	  	</div>
	  </div>
</div>

<div class="well well-sm" style="background:white;">	  
	  <div class="row">
	  	<div class="col-md-4">
	  		 <div class="cs-title">项目行业分类统计</div>
		     <div class="cs-box-custom" style="min-height: 300px;">
		     	<div id="industryStatistics" style="min-height: 300px;"></div>
			</div>
	  	</div>
	  	<div class="col-md-4">
	  		<div class="cs-title">项目建设单位统计（个）</div>
			<div class="cs-box-custom" style="min-height: 300px;">
            <p style="padding: 10px"></p>
		 	<div class="cs-list-text" >{{vm.statistical.total}}</div>
		</div>
	  	</div>
	  	<div class="col-md-4">
	  		<div class="cs-title">项目总投资金额分布统计</div>
			<div class="cs-box-custom" style="min-height: 300px;">
            <p style="padding: 10px"></p>
		 	<div class="cs-list-text" >{{vm.statistical.total}}</div>
		</div>
	  	</div>
	  </div>
</div> -->
	  <div class="search">
	  	<table class="table table-bordered" style="margin-bottom:0px;">
	  			<tr>
	  				<td colspan="6" class="bg-info">
	  					<span style="padding:10px;"><strong>项目查询</strong></span>
	  				</td>
	  			</tr>
	  			<tr>
	  				<td class="formAlignRight">项目名称：</td>
	  				<td style="width:25%"><input type="text" style="width:360px;" placeholder="请输入项目名称（可少输不可输错）" ng-model="vm.search.projectName"/></td>
	  				<td class="formAlignRight">项目阶段：</td>
	  				<td>
	  					<select style="height:30px;" ng-model="vm.search.projectStage">
				  			<option value="">---请选择---</option>
				  			<option ng-repeat="x in vm.basicData.projectStage" value="{{x.id}}">{{x.description}}</option>
				  		</select>
	  				</td>
	  				<!--<td class="formAlignRight">是否需要填写月报：</td>
	  				<td>
	  					<select style="height:30px;" ng-model="vm.search.isMonthReport">
				  			<option value="">-&#45;&#45;请选择-&#45;&#45;</option>
				  			<option value="true">是</option>
				  			<option value="false">否</option>
				  		</select>
	  				</td>-->
					<td class="formAlignRight">是否纳入项目库：</td>
					<td>
						<select style="height:30px;" ng-model="vm.search.isIncludLibrary">
							<option value="">---请选择---</option>
							<option value="true" ng-selected="true">已纳入</option>
							<option value="false">未纳入</option>
						</select>
					</td>
	  			</tr>
	  			<tr>
	  				<td class="formAlignRight">项目所属单位：</td>
	  				<td>
	  					<select style="height:30px;" ng-model="vm.search.unitName">
				  			<option value="">---请选择---</option>
				  			<option ng-repeat="x in vm.basicData.userUnit" value="{{x.id}}">{{x.unitName}}</option>
				  		</select>
	  				</td>
	  				<td class="formAlignRight">项目行业：</td>
	  				<td>
	  					<select style="height:30px;" ng-model="vm.search.projectIndustry">
				  			<option value="">---请选择---</option>
				  			<option ng-repeat="x in vm.basicData.projectIndustry_ZF" value="{{x.id}}">{{x.description}}</option>
				  		</select>
	  				</td>

	  			</tr>
	  			<tr>
	  				<td colspan="6">
	  					<button class="btn btn-success btn-sm pull-right" ng-click="vm.doSearch()"><span class="glyphicon glyphicon-search"></span>查询</button>
	  				</td>
	  			</tr>
	  		</table>
	  </div>
	  <div class="toolbar">
	  	<button class="btn btn-sm btn-primary" ng-click="vm.addProject()"><span class="glyphicon glyphicon-plus"></span>新增项目</button>
	  	<!--<button class="btn btn-sm btn-primary" ng-click="vm.isMonthReports()">批量设置是否填报</button>-->
	  </div> 
     <form id="form" name="form">          
         <div class="grid" kendo-grid="grid" k-options="vm.gridOptions"></div>
    </form>

<!-- 选择投资类型模态框 -->
<div class="modal fade" id="myModal_add" tabindex="-1" role="dialog"> 
	<div class="modal-dialog"> 
		<div class="modal-content"> 
			<div class="modal-header bg-primary"> 
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;	</button> 
				<h4 class="modal-title" id="myModalLabel">选择投资类型</h4> 
			</div> 
			<div class="modal-body">
				<label ng-repeat="x in vm.basicData.investmentType">
					<input name="investmentType" type="radio" value="{{x.id}}" ng-model="vm.model.projectInvestmentType"/>{{x.description}}&nbsp;&nbsp;
				</label>
			</div> 
			<div class="modal-footer"> 
				<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>			
		 		<button type="button" class="btn btn-success" ng-click="vm.confirmInvestmentType()">确认</button> 
			</div> 
		</div><!-- /.modal-content --> 
	</div><!-- /.modal --> 
</div>

<!-- 设置是否填报模态框 -->
<div class="modal fade" id="myModal_edit" tabindex="-1" role="dialog"> 
	<div class="modal-dialog"> 
		<div class="modal-content"> 
			<div class="modal-header bg-primary"> 
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;	</button>
				<h4 class="modal-title" id="myModalLabel">设置是否填报</h4> 
			</div> 
			<div class="modal-body">
				<span style="display:none" ng-bind="vm.model.id"></span>
				<label>是</label>
				<input type="radio" name="isMonthReport" value="true" ng-checked="vm.model.isMonthReport==1" ng-model="vm.model.isMonthReport"/>
				<label>否</label>
				<input type="radio" name="isMonthReport" value="false" ng-checked="vm.model.isMonthReport==0" ng-model="vm.model.isMonthReport"/>
			</div> 
			<div class="modal-footer"> 
				<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button> 						
				<button type="button" class="btn btn-primary" ng-click="vm.updateIsMonthReport()">提交更改</button>
			</div> 
		</div><!-- /.modal-content -->
	</div>
</div><!-- /.modal -->


<!--修改项目是否存入项目库-->
<div class="modal fade" id="myModal_update" tabindex="-1" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header bg-primary">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;	</button>
				<h4 class="modal-title" id="myModalLabel">修改项目纳入/出项目库</h4>
			</div>
			<div class="modal-body">
				<span style="display:none" ng-bind="vm.model.id"></span>
				<label>纳入</label>
				<input type="radio" name="isIncludLibrary" value="true" ng-checked="vm.libary.isIncludLibrary==true" ng-model="vm.libary.isIncludLibrary"/>
				<label>纳出</label>
				<input type="radio" name="isIncludLibrary" value="false" ng-checked="vm.libary.isIncludLibrary==false" ng-model="vm.libary.isIncludLibrary"/>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
				<button type="button" class="btn btn-primary" ng-click="vm.updateProjectToLibray()">提交更改</button>
			</div>
		</div><!-- /.modal-content -->
	</div>
</div><!-- /.modal -->
