<style>
.formAlignRight{
font-weight: bold;
}
.table-bordered>thead>tr>th, 
.table-bordered>tbody>tr>th, 
.table-bordered>tfoot>tr>th, 
.table-bordered>thead>tr>td, 
.table-bordered>tbody>tr>td, 
.table-bordered>tfoot>tr>td {
    border: 1px solid #ddd;
    vertical-align: middle;
}

.title{
padding:5px;
font-weight: bold;
}
overflow: scroll !important;
</style>

<div class="well well-sm" style="background:white;">
    <ol class="breadcrumb">
    	<li style="color:#0b8d39;padding-left:15px;"> 当前位置：</li>
        <li>项目进度管理</li>       
        <li ><a href="#/monthReport">月报</a></li>
        <li class="active">详情</li>
    </ol>
    <div class="toolbar">
    	<button class="btn btn-success btn-sm" ng-click="vm.change()">修改</button>
   		<button class="btn btn-info btn-sm" ng-click="vm.befor()">原数据</button>
    </div>
   		
	<form id="form" name="form">
		<div class="bg-info text-info title">项目名称</div>
		<table class="table  table-bordered table-striped">				
			<tr>
				<td width="15%">项目名称：</td>
				<td colspan="2" width="35%"><span ng-bind="vm.model.projectInfo.projectName"></span>
				</td>
				<td width="15%">填报月份：</td>
				<td width="80px;"><span ng-bind="vm.month"></span> 月 份</td>
			</tr>
		</table>
		<div class="bg-info text-info title">项目联系人信息</div>	
		<table class="table table-bordered table-striped">
			<tr>
				<td width="15%">填报人姓名：<span class="required">(*)</span></td>				
				<td colspan="2" width="35%" ng-bind="vm.model.monthReport.fillName">					
				</td>					
				<td width="15%">填报人手机：<span class="required">(*)</span></td>
				
				<td width="35%" ng-bind="vm.model.monthReport.fillMobile">
				
				</td>
			</tr>
			
			<tr>
				<td>项目负责人：</td>
				<td colspan="2" ng-bind="vm.model.monthReport.projectRepName">
				</td>
				<td>项目负责人电话：</td>
				<td ng-bind="vm.model.monthReport.projectRepMobile">
				</td>
			</tr>
		</table>		
	<div class="bg-info text-info title">项目进度信息</div>	
		<table class="table  table-bordered table-striped">
			<tr>
				<td width="15%">开工日期：<span class="required">(*)</span></td>
				<td colspan="2" width="35%" ng-bind="vm.model.monthReport.beginDate | date:'yyyy-MM-dd'"></td>					
				<td width="15%">竣工日期：<span class="required">(*)</span></td>				
				<td colspan="2" width="35%" ng-bind="vm.model.monthReport.endDate | date:'yyyy-MM-dd'"></td>				
			</tr>
			<tr>
				<td>项目总投资：<span class="required">(*)</span></td>				
				<td colspan="2">
					<span ng-bind="vm.model.monthReport.invertPlanTotal | number:4"></span>&nbsp;（万元）					
				</td>
				<td>截止上年底累计下达计划：<span class="required">(*)</span></td>
				<td colspan="2">
					<span ng-bind="vm.model.monthReport.actuallyFinishiInvestment | number:4"></span>&nbsp;（万元）
				</td>
			</tr>
			<tr>
				<td>本年度安排计划：<span class="required">(*)</span>
				</td>
				<td colspan="2">
					<span ng-bind="vm.model.monthReport.thisYearPlanInvestment | number:4"></span>&nbsp;（万元）					
				</td>
				<td>本年度已下达计划：<span class="required">(*)</span>
				</td>
				<td>
					<span ng-bind="vm.model.monthReport.thisYearAccumulatedInvestment | number:4"></span>&nbsp;（万元）					
				</td>
			</tr>					
			<tr>					
				<td>累计完成投资：<span class="required">(*)</span></td>				
				<td colspan="2">
					<span ng-bind="vm.model.monthReport.thisMonthInvestTotal | number:4"></span>&nbsp;（万元）					
				</td>
				<td >是否完成竣工决算</td>
				<td>
					<span ng-if="vm.model.monthReport.isCompletion == '1'">是</span>
					<span ng-if="vm.model.monthReport.isCompletion == '0'">否</span>
				</td>
			</tr>
			<tr>
				<td rowspan="5">进度安排<span class="required">(*)</span>
				</td>
				<td colspan="4">
					<span ng-bind="vm.getBasicDataDesc(vm.model.monthReport.selfReview)"></span>
				</td>			
			</tr>
			<tr>
				<td colspan="4">
					<p>
						预计1到3月份完成投资（万元）：
						<span ng-bind="vm.model.monthReport.firstQuarCompInvestment | number:4"></span>						 
					</p>
					
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<p>
						预计1到6月份完成投资（万元）： 
						<span ng-bind="vm.model.monthReport.secondQuarCompInvestment | number:4"></span>
					</p>
					
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<p>
						预计1到9月份完成投资（万元）： 
						<span ng-bind="vm.model.monthReport.thirdQuarCompInvestment | number:4"></span>
					</p>
					
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<p>
						预计1到12月份完成投资（万元）： 
						<span ng-bind="vm.model.monthReport.fourthQuarCompInvestment | number:4"></span>
					</p>
					
				</td>
			</tr>
			<tr>
				<td style="line-height: 18px">年度工作目标：<span class="required">(*)</span></td>
				
				<td colspan="4" style="padding: 10px;">
					<textarea ng-bind="vm.model.monthReport.workTargets" rows="3" cols="20"				
						mark_maxlength="200" data-validation-placeholder="年度工作目标(200字符以内)"						
						style="height: 120px; width: 99%;" disabled>
					</textarea>
				</td>				
			</tr>
			<tr>
				<td>项目审批进度：</td>
				<td colspan="4" style="padding: 10px;">
					<textarea ng-bind="vm.model.monthReport.projectApprovalProgress" rows="3" cols="20"	mark_maxlength="200"			
						 data-validation-placeholder="填写项目涉及到的选址、用地、规划、消防、人防、环评、项目建议书、可行性研究报告、概算等重要审批环节的审批进度。"						
						style="height: 120px; width: 99%;" disabled>
					</textarea>
				</td>				
			</tr>
			<tr>
				<td style="line-height: 18px">工程形象进度或<br>项目进度情况：<span class="required">(*)</span></td>
				<td colspan="4" style="padding: 10px;">
					<textarea ng-bind="vm.model.monthReport.projectImageProgress" rows="3" cols="20"	mark_maxlength="200"			
						 data-validation-placeholder="工程形象进度或项目进度情况(200字符以内)"						
						style="height: 120px; width: 99%;" disabled>
					</textarea>
				</td>
			</tr>			
		</table>
		
	<div class="bg-info text-info title">问题与备注</div>
		<table class="table  table-bordered table-striped">
			<tr>
				<td style="width:180px;">项目存在问题：</td>
				<td colspan="4" style="padding:5px;">
					<table class="table  table-bordered table-striped" >
						<tbody>
							<tr class="bg-info" style="font-weight:bold">
								<td style="width:50px;">序号</td>
								<td>问题简介</td>
								<td>解决措施及建议</td>
								
							</tr>
							<tr ng-repeat="x in vm.model.monthReport.monthReportProblemDtos">
								<td><span>{{$index+1}}</span></td>
								<td>
									<textarea style='height: 102px; width: 99%;' cols='20' rows='2' data-validation-placeholder='填写项目所存在的问题。'							
								 		 ng-bind="vm.model.monthReport.monthReportProblemDtos[$index].problemIntroduction" disabled>
								 	</textarea>
								</td>
								<td>
									<textarea style='height: 102px; width: 99%;' cols='20' rows='2' data-validation-placeholder='填写问题的解决措施或建议'							
								 		 ng-bind="vm.model.monthReport.monthReportProblemDtos[$index].solutionsAndSuggest" disabled>
								 	</textarea>
								</td>							
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
			<tr>
				<td>备注：</td>
				<td colspan="4" >
					<textarea  rows="3" cols="20" mark_maxlength="200"				
						data-validation-placeholder=""  ng-bind="vm.model.monthReport.remark"				
						style="height: 120px; width: 99%; color: rgb(169, 169, 169);" disabled>
					</textarea>
				</td>				
			</tr>
		</table>
		
	<div class="bg-info text-info title">文件上传</div>
		<div style="display: block;">
		<table style="width:100%;" class="table table-striped table-bordered ">					
			<tbody>
				<tr>
					<td>						
						<table style="width: 98%;" class="table table-bordered table-striped">									
							<tbody>
								<tr>
									<th style="width:180px;" align="center" scope="col">附件类型</th>
									<th align="center" scope="col">附件名称</th>	
								</tr>
								<tr ng-repeat="x in vm.uploadType">
									<td rowspan="1"><span>{{x[1]}}</span></td>
									
									<td >
									 <div style="margin:3px;" 
									 	  ng-repeat="y in vm.model.monthReport.attachmentDtos" 
									 	  ng-show="y.type=='{{x[0]}}'"
									 		>
										 <a href="/contents/upload/{{y.url}}" target="_blank" ng-bind="y.name"></a>
									 </div>									
									</td>															
								</tr>
							</tbody>
						</table>
					</td>
				</tr>						
			</tbody>
		</table>
		</div>
	 	<div style="text-align: center;"><button class="btn btn-success" ng-show="vm.model.display" ng-click="vm.back(vm)">返回</button></div> 
		</form>
	
</div>
