!function(){"use strict";function a(){$("form").removeData("validator"),$("form").removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse("form")}function b(a){var b="发生错误,系统已记录,我们会尽快处理！";void 0!=a.response&&(401==a.response.status&&(location.href=z.loginUrl),b=a.response.data.message||b),z.alert({vm:a.vm,msg:b,fn:function(){a.vm.isSubmit=!1,$(".alertDialog").modal("hide")}})}function c(a){console.log(a);var b=function(b){z.alert({vm:a.vm,msg:b,fn:function(){a.vm.isSubmit=!1,$(".alertDialog").modal("hide")}})};if(a.response.status>400)b("发生错误！");else{var c=a.response.data;c&&555==c.status?b(c.message):a.fn&&a.fn(c)}}function d(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=new RegExp("\\{"+(b-1)+"\\}","gm");a=a.replace(c,arguments[b])}return a}function e(a){var b=a.toString().replace(/[^0-9]/g,"");return parseInt(b,10)}function f(a){return isNaN(parseFloat(a,10))?0:parseFloat(a,10)}function g(){return $(window).height()-180}function h(a){a.vm.alertDialogMessage=a.msg,a.vm.alertDialogFn=function(){a.fn?a.fn():$(".alertDialog").modal("hide")},$(".alertDialog").modal({backdrop:"static",keyboard:!1})}function i(a){a.vm.dialogConfirmTitle=a.title,a.vm.dialogConfirmMessage=a.msg,$(".confirmDialog").modal({backdrop:"static"}),a.vm.dialogConfirmSubmit=a.fn}function j(a,b){null==b&&(b=""),a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(window.location.href);return null==d?b:d[1]}function k(){return{filterable:{extra:!1,operators:{string:{contains:"包含",eq:"等于"},number:{eq:"等于",neq:"不等于",gt:"大于",lt:"小于"},date:{gt:"大于",lt:"小于"}}},pageable:{pageSize:10,previousNext:!0,buttonCount:5,refresh:!0,pageSizes:!0},schema:function(a){return{data:"value",total:function(a){return a.count},model:a}},transport:function(a){return{read:{url:a,dataType:"json",type:"GET",beforeSend:function(a){a.setRequestHeader("Token",z.getToken())}}}},noRecordMessage:{template:"暂时没有数据."}}}function l(a){var b=$(a).find("tr td:nth-child(1)").find("input:checked"),c=[];return b.each(function(){var a=$(this).attr("relId");c.push({name:"id",value:a})}),c}function m(a){a.headers={Token:z.getToken()},a.$http(a.httpOptions).then(a.success,function(b){common.requestError({vm:a.vm,response:b})})}function n(){var a={get:function(a,b){var c=this.getAll(a);return c?c[b]:null},getAll:function(a){var b=encodeURIComponent(a)+"=",c=document.cookie.indexOf(b),d=null,e={};if(c>-1){var f=document.cookie.indexOf(";",c);if(f==-1&&(f=document.cookie.length),d=document.cookie.substring(c+b.length,f),d.length>0){for(var g=d.split("&"),h=0,i=g.length;h<i;h++){var j=g[h].split("=");e[decodeURIComponent(j[0])]=decodeURIComponent(j[1])}return e}}return null},set:function(a,b,c,d,e,f,g){var h=this.getAll(a)||{};h[b]=c,this.setAll(a,h,d,e,f,g)},setAll:function(a,b,c,d,e,f){var g=encodeURIComponent(a)+"=",h=new Array;for(var i in b)i.length>0&&b.hasOwnProperty(i)&&h.push(encodeURIComponent(i)+"="+encodeURIComponent(b[i]));h.length>0?(g+=h.join("&"),c instanceof Date&&(g+=";expires="+c.toGMTString()),d&&(g+=";path="+d),e&&(g+=";domain="+e),f&&(g+=";secure")):g+=";expires="+new Date(0).toGMTString(),document.cookie=g},unset:function(a,b,c,d,e){var f=this.getAll(a);f&&(delete f[b],this.setAll(a,f,null,c,d,e))},unsetAll:function(a,b,c,d){this.setAll(a,null,new Date(0),b,c,d)}};return a}function o(){var a=n().getAll("data");return null!=a?a.token:""}function p(a){return a.error=function(a){401==a.status&&(location.href=z.loginUrl)},a}function q(){return window.global_basicData?window.global_basicData:($.ajax({url:"/common/basicData/all",async:!1,success:function(a){window.global_basicData=a}}),window.global_basicData)}function r(a){var b=$linq(common.getBasicData()).where(function(b){return b.id==a}).firstOrDefault();return b?b.description:""}function s(a){var b=$linq(this.getBasicData()).where(function(b){return b.identity==a&&b.pId==a}).toArray();return b?b:""}function t(a){return a?new Date(a):null}function u(a){return a?a:0}function v(a){return a?kendo.toString(new Date(a),"yyyy-MM-dd"):""}function w(a){return a?kendo.toString(new Date(a),"yyyy-MM-dd HH:mm:ss"):""}function x(){return{processState_waitQianShou:"processState_1",processState_qianShou:"processState_2",processState_banJie:"processState_7",processState_tuiWen:"processState_11",projectShenBaoStage:"projectShenBaoStage",projectShenBaoStage_nextYearPlan:"projectShenBaoStage_7",projectCategory:"projectCategory",projectCategory_A:"projectCategory_1",projectCategory_B:"projectCategory_2",projectCategory_C:"projectCategory_3",projectCategory_D:"projectCategory_4",projectClassify:"projectClassify",projectConstrChar:"projectConstrChar",projectFunctionClassify:"projectFunctionClassify",projectGoverEconClassify:"projectGoverEconClassify",projectIndustry:"projectIndustry",projectInvestmentType:"projectInvestmentType",projectProgress:"projectProgress",projectStage:"projectStage",projectType:"projectType",approvalType:"approvalType",unitProperty:"unitProperty",area:"area",area_GM:"area_1",capitalOtherType:"capitalOtherType",taskType_monthReport:"taskType_1",taskType_yearPlan:"taskType_2"}}function y(){$(document).on("click","#checkboxAll",function(){var a=$(this).is(":checked");$(".grid").find("tr td:nth-child(1)").find("input:checkbox").prop("checked",a)}),$("body").on("click",".grid tr",function(a){$(this).parent().find("tr").removeClass("selected"),$(this).addClass("selected")})}var z={initJqValidation:a,requestError:b,requestSuccess:c,format:d,blockNonNumber:e,floatNumberInput:f,adminContentHeight:g,alert:h,confirm:i,getQuerystring:j,kendoGridConfig:k,getKendoCheckId:l,cookie:n,getToken:o,appPath:"",http:m,gridDataSource:p,loginUrl:"/",getBasicData:q,getBasicDataDesc:r,getBacicDataByIndectity:s,toDate:t,toMoney:u,formatDate:v,formatDateTime:w,basicDataConfig:x};window.common=z,y()}(),function(){"use strict";angular.module("app",["ui.router","kendo.directives"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("index",{url:"/",templateUrl:"/shenbaoAdmin/html/welcome",controller:"indexCtrl",controllerAs:"vm"}).state("task_records",{url:"/task_records",templateUrl:"/shenbaoAdmin/taskRecord/html/list",controller:"indexCtrl",controllerAs:"vm"}).state("accountPwd",{url:"/accountPwd",templateUrl:"/account/html/changePwdQ.html",controller:"indexCtrl",controllerAs:"vm"}).state("deptInfoMaintain",{url:"/deptInfoMaintain",templateUrl:"/contents/shenbaoAdmin/deptInfoMaintain/html/deptInfoManager.html",controller:"deptInfoMaintainCtrl",controllerAs:"vm"}).state("projectMonthReport",{url:"/projectMonthReport",templateUrl:"/shenbaoAdmin/projectMonthReport/html/list.html",controller:"projectMonthReportCtrl",controllerAs:"vm"}).state("projectMonthReportFill",{url:"/projectMonthReportFill/:projectId",templateUrl:"/shenbaoAdmin/projectMonthReport/html/selectMonth",controller:"projectMonthReportCtrl",controllerAs:"vm"}).state("projectMonthReportInfoFill",{url:"/projectMonthReportInfoFill/:projectId/:year/:month",templateUrl:"/shenbaoAdmin/projectMonthReport/html/fillInfo/",controller:"projectMonthReportCtrl",controllerAs:"vm"}).state("projectMonthReport_projectInfo",{url:"/projectMonthReport/projectInfo/:projectId",templateUrl:"/shenbaoAdmin/projectMonthReport/html/projectInfo.html",controller:"projectMonthReportCtrl",controllerAs:"vm"}).state("project",{url:"/project",templateUrl:"/shenbaoAdmin/project/html/list.html",controller:"projectCtrl",controllerAs:"vm"}).state("projectEdit",{url:"/projectEdit/:id",templateUrl:"/shenbaoAdmin/project/html/edit.html",controller:"projectCtrl",controllerAs:"vm"}).state("project_projectInfo",{url:"/project/projectInfo/:id",templateUrl:"/shenbaoAdmin/project/html/projectInfo.html",controller:"projectCtrl",controllerAs:"vm"}).state("shenbao",{url:"/shenbao",templateUrl:"/shenbaoAdmin/shenbao/html/list.html",controller:"shenbaoCtrl",controllerAs:"vm"}).state("shenbao_edit",{url:"/shenbao/:id/:stage",templateUrl:"/shenbaoAdmin/shenbao/html/edit.html",controller:"shenbaoCtrl",controllerAs:"vm"}).state("shenbao_records",{url:"/shenbao_records",templateUrl:"/shenbaoAdmin/shenbao/html/records.html",controller:"shenbaoCtrl",controllerAs:"vm"}).state("shenbao_record",{url:"/shenbao_record/:id",templateUrl:"/shenbaoAdmin/shenbao/html/shenBaoInfo.html",controller:"shenbaoCtrl",controllerAs:"vm"}).state("shenbao_record_edit",{url:"/shenbao_record_edit/:id/:stage",templateUrl:"/shenbaoAdmin/shenbao/html/edit.html",controller:"shenbaoCtrl",controllerAs:"vm"})}])}(),function(){"use strict";function a(a,b,c){function d(){g.formatDate=function(a){return common.formatDate(a)},g.formatDateTime=function(a){return common.formatDateTime(a)},g.getBasicDataDesc=function(a){return common.getBasicDataDesc(a)},g.changePwd=function(){c.changePwd(g)},g.taskType_yearPlan=common.basicDataConfig().taskType_yearPlan,g.taskType_monthReport=common.basicDataConfig().taskType_monthReport,"recordList"==g.page&&e(),"index"==g.page&&(c.getTaskRecords(g),c.getUnitShenBaoInfos(g))}function e(){c.taskRecordList(g)}function f(){d()}var g=this;g.model={},g.page="index","task_records"==b.current.name&&(g.page="recordList"),"accountPwd"==b.current.name&&(g.page="changePwd"),f()}angular.module("app").controller("indexCtrl",a),a.$inject=["$location","$state","indexSvc"]}(),function(){"use strict";function a(a){function b(b){common.initJqValidation();var c=$("form").valid();if(c){b.isSubmit=!0;var d={method:"put",url:h,data:b.model.password},e=function(a){common.requestSuccess({vm:b,response:a,fn:function(){common.alert({vm:b,msg:"操作成功",fn:function(){b.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:b,$http:a,httpOptions:d,success:e})}}function c(a){var b=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(f),schema:common.kendoGridConfig().schema({id:"id"}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),c=[{field:"title",title:"名称",template:function(b){return b.taskType==a.taskType_yearPlan?common.format('<a href="#/shenbao_record/{0}">{1}</a>',b.relId,b.title):b.taskType==a.taskType_monthReport?b.title:void 0},filterable:!1},{field:"processSuggestion",title:"信息",filterable:!0},{field:"processStateDesc",title:"状态",filterable:!0},{field:"createdDate",title:"创建时间",template:function(b){return a.formatDateTime(b.createdDate)}}];a.gridOptions={dataSource:common.gridDataSource(b),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:c,resizable:!0}}function d(b){var c={method:"get",url:g+"/unit"},d=function(a){b.model.shenBaoInfo=a.data.value};common.http({vm:b,$http:a,httpOptions:c,success:d})}function e(b){var c={method:"get",url:f+"?$orderby=createdDate desc"},d=function(a){b.model.taskRecord=a.data.value};common.http({vm:b,$http:a,httpOptions:c,success:d})}var f="/shenbaoAdmin/taskRecord",g="/shenbaoAdmin/shenbao",h="/account/password",i={getTaskRecords:e,getUnitShenBaoInfos:d,taskRecordList:c,changePwd:b};return i}angular.module("app").factory("indexSvc",a),a.$inject=["$http"]}(),function(){"use strict";function a(a,b){function c(){b.getDeptInfo(d)}var d=this;d.model={unitProperty:"",divisionId:""},d.basicData_unitProperty=common.getBacicDataByIndectity(common.basicDataConfig().unitProperty),d.basicData_area_Street=$linq(common.getBasicData()).where(function(a){return a.identity==common.basicDataConfig().area&&a.pId==common.basicDataConfig().area_GM}).toArray(),d.submit=function(){b.save(d)},c()}angular.module("app").controller("deptInfoMaintainCtrl",a),a.$inject=["$location","deptInfoMaintainSvc"]}(),function(){"use strict";function a(a,b){function c(b){common.initJqValidation();var c=$("form").valid();if(c){b.isSubmit=!0;var d={method:"post",url:e,data:b.model},f=function(a){common.requestSuccess({vm:b,response:a,fn:function(){common.alert({vm:b,msg:"操作成功",fn:function(){b.isSubmit=!1,$(".alertDialog").modal("hide"),location.reload()}})}})};common.http({vm:b,$http:a,httpOptions:d,success:f})}}function d(b){var c={method:"get",url:e},d=function(a){b.model=a.data.value[0]||{}};common.http({vm:b,$http:a,httpOptions:c,success:d})}var e="/shenbaoAdmin/userUnitInfo",f={getDeptInfo:d,save:c};return f}angular.module("app").factory("deptInfoMaintainSvc",a),a.$inject=["$http","$compile"]}(),function(){"use strict";function a(a,b,c,d){function e(){j.init(),"list"==j.page&&f(),"selectMonth"==j.page&&g(),"fillReport"==j.page&&h(),"projectInfo"==j.page&&i()}function f(){b.grid(j)}function g(){b.getProjectById(j),j.fillReport=function(a){location.href="#/projectMonthReportInfoFill/"+j.projectId+"/"+j.submitYear+"/"+a};var a=new Date;j.submitYear=a.getFullYear(),j.submitYearMonth={},j.monthRow1=["一月","二月","三月","四月","五月","六月"],j.monthRow2=["七月","八月","九月","十月","十一月","十二月"],j.setMonthSelected=function(){for(var a=1;a<=12;a++)j.submitYearMonth["m"+a]=!1;var b=$linq(j.model.projectInfo.monthReportDtos).where(function(a){return a.submitYear==j.submitYear}).select(function(a){return a.submitMonth});b.foreach(function(a){j.submitYearMonth["m"+a]=!0})}}function h(){j.model.monthReport={},j.years=[],j.currentYear=(new Date).getFullYear(),j.years.push(j.currentYear);for(var a=1;a<=5;a++)j.years.push(j.currentYear+a),j.years.push(j.currentYear-a);j.years=j.years.sort(),j.model.monthReport.proposalsYear=j.currentYear,j.model.monthReport.reportYear=j.currentYear,j.model.monthReport.allEstimateYear=j.currentYear,j.money=function(a){return a?a:0},j.submit=function(){b.submitMonthReport(j)},j.page_fillReport_init=function(){j.uploadSuccess=function(a){var b=$(a.sender.element).parents(".uploadBox").attr("data-type");if(200==a.XMLHttpRequest.status){var c=a.XMLHttpRequest.response;d.$apply(function(){j.model.monthReport.attachmentDtos?j.model.monthReport.attachmentDtos.push({name:c.split("_")[2],url:c,type:b}):j.model.monthReport.attachmentDtos=[{name:c.split("_")[2],url:c,type:b}]})}},b.getProjectById(j)},j.delFile=function(a){j.model.monthReport.attachmentDtos.splice(a,1)},j.createProblem=function(){j.model.monthReport.monthReportProblemDtos?j.model.monthReport.monthReportProblemDtos.push({problemIntroduction:"",solutionsAndSuggest:""}):j.model.monthReport.monthReportProblemDtos=[{problemIntroduction:"",solutionsAndSuggest:""}]},j.deleteProblem=function(a){j.model.monthReport.monthReportProblemDtos.splice(a,1)},j.basicData_approvalType=common.getBacicDataByIndectity(common.basicDataConfig().approvalType),j.basicData_projectProgress=common.getBacicDataByIndectity(common.basicDataConfig().projectProgress),j.uploadType=[["scenePicture","现场图片"],["other","其它材料"]]}function i(){b.getProjectById(j)}var j=this;j.model={},j.page="list",j.init=function(){j.projectId=c.params.projectId,j.month=c.params.month,j.year=c.params.year,j.projectId&&(j.page="selectMonth"),j.month&&(j.page="fillReport"),"projectMonthReport_projectInfo"==c.current.name&&(j.page="projectInfo")},e()}angular.module("app").controller("projectMonthReportCtrl",a),a.$inject=["$location","projectMonthReportSvc","$state","$scope"]}(),function(){"use strict";function a(a,b){function c(b){var c={method:"get",url:i},d=function(a){b.model.userUnitInfo=a.data,b.model.monthReport.fillName=b.model.userUnitInfo.unitContactPerson,b.model.monthReport.fillMobile=b.model.userUnitInfo.contactPersonMobile,b.model.monthReport.monRepManagerName=b.model.userUnitInfo.unitResPerson,b.model.monthReport.monRepManagerTel=b.model.userUnitInfo.resPersonTel,b.model.monthReport.monRepManagerFax=b.model.userUnitInfo.resPersonFax,b.model.monthReport.monRepManagUnitName=b.model.userUnitInfo.unitName,b.model.monthReport.respUnitManagerName=b.model.userUnitInfo.unitResPerson,b.model.monthReport.respUnitManagerTel=b.model.userUnitInfo.resPersonMobile};common.http({vm:b,$http:a,httpOptions:c,success:d})}function d(b){var d={method:"get",url:common.format(g+"?$filter=id eq '{0}'",b.projectId)},e=function(a){if(b.model.projectInfo=a.data.value[0]||{},"selectMonth"==b.page&&b.setMonthSelected(),"fillReport"==b.page){var d=$linq(b.model.projectInfo.monthReportDtos).where(function(a){return a.submitYear==b.year&&a.submitMonth==b.month}).toArray();d.length>0&&(b.isReportExist=!0,b.model.monthReport=d[0]),b.model.monthReport.projectId=b.model.projectInfo.id,b.model.monthReport.projectNumber=b.model.projectInfo.projectNumber,b.model.monthReport.pifuJYS_date=common.toDate(b.model.projectInfo.pifuJYS_date),b.model.monthReport.pifuKXXYJBG_date=common.toDate(b.model.projectInfo.pifuKXXYJBG_date),b.model.monthReport.pifuCBSJYGS_date=common.toDate(b.model.projectInfo.pifuCBSJYGS_date),b.model.monthReport.pifuJYS_wenhao=b.model.projectInfo.pifuJYS_wenhao,b.model.monthReport.pifuKXXYJBG_wenhao=b.model.projectInfo.pifuKXXYJBG_wenhao,b.model.monthReport.pifuCBSJYGS_wenhao=b.model.projectInfo.pifuCBSJYGS_wenhao,b.model.monthReport.beginDate=common.toDate(b.model.projectInfo.beginDate),b.model.monthReport.endDate=common.toDate(b.model.projectInfo.endDate),b.model.monthReport.invertPlanTotal=common.toMoney(b.model.projectInfo.projectInvestSum),b.model.monthReport.actuallyFinishiInvestment=common.toMoney(b.model.monthReport.actuallyFinishiInvestment),b.model.monthReport.thisYearAccumulatedInvestment=common.toMoney(b.model.monthReport.thisYearAccumulatedInvestment),b.model.monthReport.thisYearPlanInvestment=common.toMoney(b.model.monthReport.thisYearPlanInvestment),b.model.monthReport.thisYearAccumulatedInvestment=common.toMoney(b.model.monthReport.thisYearAccumulatedInvestment),b.model.monthReport.thisMonthInvestTotal=common.toMoney(b.model.monthReport.thisMonthInvestTotal),b.model.monthReport.firstQuarCompInvestment=common.toMoney(b.model.monthReport.firstQuarCompInvestment),b.model.monthReport.secondQuarCompInvestment=common.toMoney(b.model.monthReport.secondQuarCompInvestment),b.model.monthReport.thirdQuarCompInvestment=common.toMoney(b.model.monthReport.thirdQuarCompInvestment),b.model.monthReport.fourthQuarCompInvestment=common.toMoney(b.model.monthReport.fourthQuarCompInvestment),c(b)}"projectInfo"==b.page&&(b.model.projectInfo.projectInvestSum=common.toMoney(b.model.projectInfo.projectInvestSum),b.model.projectInfo.projectInvestAccuSum=common.toMoney(b.model.projectInfo.projectInvestAccuSum),b.model.projectInfo.capitalSCZ_ggys=common.toMoney(b.model.projectInfo.capitalSCZ_ggys),b.model.projectInfo.capitalSCZ_gtzj=common.toMoney(b.model.projectInfo.capitalSCZ_gtzj),b.model.projectInfo.capitalSCZ_zxzj=common.toMoney(b.model.projectInfo.capitalSCZ_zxzj),b.model.projectInfo.capitalQCZ_ggys=common.toMoney(b.model.projectInfo.capitalQCZ_ggys),b.model.projectInfo.capitalQCZ_gtzj=common.toMoney(b.model.projectInfo.capitalQCZ_gtzj),b.model.projectInfo.capitalSHTZ=common.toMoney(b.model.projectInfo.capitalSHTZ),b.model.projectInfo.capitalOther=common.toMoney(b.model.projectInfo.capitalOther),b.capitalTotal=function(){return(parseFloat(b.model.projectInfo.capitalSCZ_ggys)||0)+(parseFloat(b.model.projectInfo.capitalSCZ_gtzj)||0)+(parseFloat(b.model.projectInfo.capitalSCZ_zxzj)||0)+(parseFloat(b.model.projectInfo.capitalQCZ_ggys)||0)+(parseFloat(b.model.projectInfo.capitalQCZ_gtzj)||0)+(parseFloat(b.model.projectInfo.capitalSHTZ)||0)+(parseFloat(b.model.projectInfo.capitalOther)||0)},b.model.projectInfo.beginDate=common.toDate(b.model.projectInfo.beginDate),b.model.projectInfo.endDate=common.toDate(b.model.projectInfo.endDate),b.model.projectInfo.pifuJYS_date=common.toDate(b.model.projectInfo.pifuJYS_date),b.model.projectInfo.pifuKXXYJBG_date=common.toDate(b.model.projectInfo.pifuKXXYJBG_date),b.model.projectInfo.pifuCBSJYGS_date=common.toDate(b.model.projectInfo.pifuCBSJYGS_date))};common.http({vm:b,$http:a,httpOptions:d,success:e})}function e(b){common.initJqValidation();var c=$("form").valid();if(c){b.model.monthReport.submitYear=b.year,b.model.monthReport.submitMonth=b.month,b.model.monthReport.projectId=b.projectId,b.isSubmit=!0;var d={method:"post",url:h,data:b.model.monthReport},e=function(a){common.requestSuccess({vm:b,response:a,fn:function(){common.alert({vm:b,msg:"操作成功",fn:function(){b.isSubmit=!1,$(".alertDialog").modal("hide"),location.reload()}})}})};common.http({vm:b,$http:a,httpOptions:d,success:e})}}function f(a){var b=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(g),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"},filter:{field:"isMonthReport",operator:"eq",value:!0}}),c=[{field:"projectName",title:"项目名称",filterable:!0,template:function(a){return common.format('<a href="#/projectMonthReport/projectInfo/{0}">{1}</a>',a.id,a.projectName)}},{field:"projectStageDesc",title:"项目阶段",width:150,filterable:!1},{field:"projectClassifyDesc",title:"项目分类",width:150,filterable:!1},{field:"",title:"操作",width:180,template:function(a){return common.format($("#columnBtns").html(),a.id,"vm.del('"+a.id+"')")}}];a.gridOptions={dataSource:common.gridDataSource(b),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:c,resizable:!0}}var g="/shenbaoAdmin/project/unitProject",h="/shenbaoAdmin/projectMonthReport",i="/shenbaoAdmin/userUnitInfo",j={grid:f,submitMonthReport:e,getProjectById:d};return j}angular.module("app").factory("projectMonthReportSvc",a),a.$inject=["$http","$compile"]}(),function(){"use strict";function a(a,b,c,d){function e(){j.init(),"list"==j.page&&f(),"create"==j.page&&g(),"update"==j.page&&(g(),h()),"projectInfo"==j.page&&i()}function f(){b.grid(j)}function g(){b.getUserUnit(j),j.basicData={},j.basicData_area_Street=$linq(common.getBasicData()).where(function(a){return a.identity==common.basicDataConfig().area&&a.pId==common.basicDataConfig().area_GM}).toArray(),j.basicData.projectStage=common.getBacicDataByIndectity(common.basicDataConfig().projectStage),j.basicData.projectType=common.getBacicDataByIndectity(common.basicDataConfig().projectType),j.basicData.projectCategory=common.getBacicDataByIndectity(common.basicDataConfig().projectCategory),j.basicData.projectClassify=common.getBacicDataByIndectity(common.basicDataConfig().projectClassify),j.basicData.projectFunctionClassify=common.getBacicDataByIndectity(common.basicDataConfig().projectFunctionClassify),j.basicData.projectGoverEconClassify=common.getBacicDataByIndectity(common.basicDataConfig().projectGoverEconClassify),j.basicData.capitalOther=common.getBacicDataByIndectity(common.basicDataConfig().capitalOtherType),j.basicData.projectIndustry=common.getBacicDataByIndectity(common.basicDataConfig().projectIndustry),j.projectIndustryChange=function(){j.basicData.projectIndustryChildren=$linq(common.getBasicData()).where(function(a){return a.identity==common.basicDataConfig().projectIndustry&&a.pId==j.model.projectIndustryParent}).toArray()},j.uploadType=[["JYS","项目建议书"],["KXXYJBG","可行性研究报告"],["CBSJYGS","初步设计与概算"]],j.uploadSuccess=function(a){var b=$(a.sender.element).parents(".uploadBox").attr("data-type");if(200==a.XMLHttpRequest.status){var c=a.XMLHttpRequest.response;d.$apply(function(){j.model.attachmentDtos?j.model.attachmentDtos.push({name:c.split("_")[2],url:c,type:b}):j.model.attachmentDtos=[{name:c.split("_")[2],url:c,type:b}]})}},j.delFile=function(a){j.model.attachmentDtos.splice(a,1)},j.capitalTotal=function(){return(parseFloat(j.model.capitalSCZ_ggys)||0)+(parseFloat(j.model.capitalSCZ_gtzj)||0)+(parseFloat(j.model.capitalSCZ_zxzj)||0)+(parseFloat(j.model.capitalQCZ_ggys)||0)+(parseFloat(j.model.capitalQCZ_gtzj)||0)+(parseFloat(j.model.capitalSHTZ)||0)+(parseFloat(j.model.capitalZYYS)||0)+(parseFloat(j.model.capitalOther)||0)},j.create=function(){b.createProject(j)},j.updateSelection=function(a){var b=j.model.projectType.indexOf(a);b==-1?j.model.projectType.push(a):j.model.projectType.splice(b,1)}}function h(){j.title="编辑项目",b.getProjectById(j),j.update=function(){b.updateProject(j)}}function i(){b.getUserUnit(j),b.getProjectById(j)}var j=this;j.title="新增项目",j.id=c.params.id,j.model={},j.page="list",j.model.projectType=[],j.init=function(){"projectEdit"==c.current.name&&(j.page="create"),j.id&&(j.page="update"),"project_projectInfo"==c.current.name&&(j.page="projectInfo")},e()}angular.module("app").controller("projectCtrl",a),a.$inject=["$location","projectSvc","$state","$scope"]}(),function(){"use strict";function a(a,b,c){function d(b){common.initJqValidation();var c=$("form").valid();if(c){b.isSubmit=!0;var d={method:"put",url:i,data:b.model},e=function(a){common.requestSuccess({vm:b,response:a,fn:function(){common.alert({vm:b,msg:"操作成功",fn:function(){b.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:b,$http:a,httpOptions:d,success:e})}else common.alert({vm:b,msg:"您填写的信息不正确,请核对后提交!"})}function e(b){var c={method:"get",url:common.format(i+"?$filter=id eq '{0}'",b.id)},d=function(a){if(b.model=a.data.value[0]||{},b.model.beginDate=common.formatDate(b.model.beginDate),b.model.endDate=common.formatDate(b.model.endDate),b.model.pifuJYS_date=common.formatDate(b.model.pifuJYS_date),b.model.pifuKXXYJBG_date=common.formatDate(b.model.pifuKXXYJBG_date),b.model.pifuCBSJYGS_date=common.formatDate(b.model.pifuCBSJYGS_date),b.model.projectInvestSum=common.toMoney(b.model.projectInvestSum),b.model.projectInvestAccuSum=common.toMoney(b.model.projectInvestAccuSum),b.model.capitalSCZ_ggys=common.toMoney(b.model.capitalSCZ_ggys),b.model.capitalSCZ_gtzj=common.toMoney(b.model.capitalSCZ_gtzj),b.model.capitalSCZ_zxzj=common.toMoney(b.model.capitalSCZ_zxzj),b.model.capitalQCZ_ggys=common.toMoney(b.model.capitalQCZ_ggys),b.model.capitalQCZ_gtzj=common.toMoney(b.model.capitalQCZ_gtzj),b.model.capitalZYYS=common.toMoney(b.model.capitalZYYS),b.model.capitalSHTZ=common.toMoney(b.model.capitalSHTZ),b.model.capitalOther=common.toMoney(b.model.capitalOther),"update"==b.page){var c=$linq(common.getBasicData()).where(function(a){return a.id==b.model.projectIndustry}).toArray()[0];b.model.projectIndustryParent=c.pId,b.projectIndustryChange()}"projectInfo"==b.page&&(b.capitalTotal=function(){return(parseFloat(b.model.capitalSCZ_ggys)||0)+(parseFloat(b.model.capitalSCZ_gtzj)||0)+(parseFloat(b.model.capitalSCZ_zxzj)||0)+(parseFloat(b.model.capitalQCZ_ggys)||0)+(parseFloat(b.model.capitalQCZ_gtzj)||0)+(parseFloat(b.model.capitalSHTZ)||0)+(parseFloat(b.model.capitalZYYS)||0)+(parseFloat(b.model.capitalOther)||0)})};common.http({vm:b,$http:a,httpOptions:c,success:d})}function f(b){var c={method:"get",url:j},d=function(a){b.userUnit=a.data,b.model.unitName=b.userUnit.userName};common.http({vm:b,$http:a,httpOptions:c,success:d})}function g(b){common.initJqValidation();var d=$("form").valid();if(d){b.isSubmit=!0;var e={method:"post",url:i,data:b.model},f=function(a){common.requestSuccess({vm:b,response:a,fn:function(){common.alert({vm:b,msg:"操作成功",fn:function(){b.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),c.path(k)}})}})};common.http({vm:b,$http:a,httpOptions:e,success:f})}}function h(a){var b=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(i),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),c=[{field:"projectName",title:"项目名称",filterable:!0,template:function(a){return common.format('<a href="#/project/projectInfo/{0}">{1}</a>',a.id,a.projectName)}},{field:"projectStageDesc",title:"项目阶段",width:150,filterable:!1},{field:"projectClassifyDesc",title:"项目分类",width:150,filterable:!1},{field:"",title:"操作",width:180,template:function(a){return common.format($("#columnBtns").html(),a.id,"vm.del('"+a.id+"')")}}];a.gridOptions={dataSource:common.gridDataSource(b),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:c,resizable:!0}}var i="/shenbaoAdmin/project/unitProject",j="/shenbaoAdmin/userUnitInfo",k="/project",l={grid:h,createProject:g,getUserUnit:f,getProjectById:e,updateProject:d};return l}angular.module("app").factory("projectSvc",a),a.$inject=["$http","$compile","$location"]}(),function(){"use strict";function a(a,b,c,d){function e(){j.init(),"list"==j.page&&f(),"edit"==j.page&&g(),"records"==j.page&&h(),"record"==j.page&&i(),"record_edit"==j.page&&(j.isRecordEdit=!0,j.title="申报信息编辑",g(),i())}function f(){b.grid(j),j.shenbaoBtn=function(a,c){j.projectId=a,j.projectName=c,j.projectShenBaoStage="",j.isConfirm=!1,j.basicData.projectStage=$linq(common.getBasicData()).where(function(a){return a.identity==common.basicDataConfig().projectShenBaoStage&&a.pId==common.basicDataConfig().projectShenBaoStage}).toArray(),$("#myModal").modal("show"),d.$watch("vm.projectShenBaoStage",function(a,c,d){a&&b.isHadShenBaoInfo(j)})},j.confirm=function(){$(".modal-backdrop").remove(),location.href="#/shenbao/"+j.projectId+"/"+j.projectShenBaoStage}}function g(){var a=function(){j.isYearPlan=j.stage==common.basicDataConfig().projectShenBaoStage_nextYearPlan,j.isYearPlan&&(j.materialsType=[["XXJD","项目工程形象进度及年度资金需求情况"],["WCJSNR","年度完成建设内容及各阶段工作内容完成时间表"],["TTJH","历年政府投资计划下大文件(*)"],["GCXKZ","建设工程规划许可证"],["TDQK","土地落实情况、征地拆迁有关情况"],["XMJZ","项目进展情况相关资料"],["QQGZJH","前期工作计划文件"],["XMSSYJ","项目实施依据文件"],["HYJY","会议纪要"]],j.uploadType=[["JYS","项目建议书"],["KXXYJBG","可行性研究报告"],["CBSJYGS","初步设计与概算"]])};a(),j.basicData.projectStage=common.getBacicDataByIndectity(common.basicDataConfig().projectStage),j.basicData.projectType=common.getBacicDataByIndectity(common.basicDataConfig().projectType),j.basicData.projectIndustry=common.getBacicDataByIndectity(common.basicDataConfig().projectIndustry),j.projectIndustryChange=function(){j.basicData.projectIndustryChildren=$linq(common.getBasicData()).where(function(a){return a.identity==common.basicDataConfig().projectIndustry&&a.pId==j.model.projectIndustryParent}).toArray()},j.basicData.projectInvestmentType=common.getBacicDataByIndectity(common.basicDataConfig().projectInvestmentType),j.basicData.projectClassify=common.getBacicDataByIndectity(common.basicDataConfig().projectClassify),j.basicData.projectCategory=common.getBacicDataByIndectity(common.basicDataConfig().projectCategory),j.basicData.projectConstrChar=common.getBacicDataByIndectity(common.basicDataConfig().projectConstrChar),j.basicData.unitProperty=common.getBacicDataByIndectity(common.basicDataConfig().unitProperty),j.basicData.area_Street=$linq(common.getBasicData()).where(function(a){return a.identity==common.basicDataConfig().area&&a.pId==common.basicDataConfig().area_GM}).toArray(),j.basicData.capitalOther=common.getBacicDataByIndectity(common.basicDataConfig().capitalOtherType),j.uploadSuccess=function(a){var b=$(a.sender.element).parents(".uploadBox").attr("data-type");if(200==a.XMLHttpRequest.status){var c=a.XMLHttpRequest.response;d.$apply(function(){j.model.attachmentDtos?j.model.attachmentDtos.push({name:c.split("_")[2],url:c,type:b}):j.model.attachmentDtos=[{name:c.split("_")[2],url:c,type:b}]})}},j.delFile=function(a){j.model.attachmentDtos.splice(a,1)},"edit"==j.page&&b.getProjectById(j),j.tabChange=function(a){common.initJqValidation();var b=$("form").valid(),c=$("#tab"+a);b&&j.tabStrip.activateTab(c)},j.submit=function(){b.createShenBaoInfo(j)}}function h(){b.recordsGird(j)}function i(){b.getShenBaoInfoById(j),j.update=function(){b.updateShenBaoInfo(j)}}var j=this;j.id=c.params.id,j.stage=c.params.stage,j.model={},j.basicData={},j.page="list",j.title="申报信息录入",d.animationsEnabled=!0,j.init=function(){"shenbao_edit"==c.current.name&&(j.page="edit"),"shenbao_records"==c.current.name&&(j.page="records"),"shenbao_record"==c.current.name&&(j.page="record"),"shenbao_record_edit"==c.current.name&&(j.page="record_edit")},e()}angular.module("app").controller("shenbaoCtrl",a),a.$inject=["$location","shenbaoSvc","$state","$scope"]}(),function(){"use strict";function a(a,b,c){function d(b){
var c={method:"get",url:common.format(n+"?$filter=projectId eq '{0}' and projectShenBaoStage eq '{1}'",b.projectId,b.projectShenBaoStage)},d=function(a){b.model.shenBaoInfoDto=a.data.value,b.model.shenBaoInfoDto.length>0?(b.isStageExist=!0,b.isConfirm=!0):(b.isStageExist=!1,b.isConfirm=!1)};common.http({vm:b,$http:a,httpOptions:c,success:d})}function e(b){common.initJqValidation();var c=$("form").valid();if(c){b.isSubmit=!0;var d={method:"put",url:n,data:b.model},e=function(a){common.requestSuccess({vm:b,response:a,fn:function(){common.alert({vm:b,msg:"操作成功",fn:function(){b.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:b,$http:a,httpOptions:d,success:e})}else common.alert({vm:b,msg:"您填写的信息不正确,请核对后提交!"})}function f(b){var c={method:"get",url:common.format(n+"?$filter=id eq '{0}'",b.id)},d=function(a){if(b.model=a.data.value[0]||{},b.model.beginDate=common.toDate(b.model.beginDate),b.model.endDate=common.toDate(b.model.endDate),b.model.pifuJYS_date=common.toDate(b.model.pifuJYS_date),b.model.pifuKXXYJBG_date=common.toDate(b.model.pifuKXXYJBG_date),b.model.pifuCBSJYGS_date=common.toDate(b.model.pifuCBSJYGS_date),"record"==b.page&&b.model.projectShenBaoStage==common.basicDataConfig().projectShenBaoStage_nextYearPlan&&(b.isYearPlan=!0,b.materialsType=[["XXJD","项目工程形象进度及年度资金需求情况"],["WCJSNR","年度完成建设内容及各阶段工作内容完成时间表"],["TTJH","历年政府投资计划下大文件(*)"],["GCXKZ","建设工程规划许可证"],["TDQK","土地落实情况、征地拆迁有关情况"],["XMJZ","项目进展情况相关资料"],["QQGZJH","前期工作计划文件"],["XMSSYJ","项目实施依据文件"],["HYJY","会议纪要"]],b.uploadType=[["JYS","项目建议书"],["KXXYJBG","可行性研究报告"],["CBSJYGS","初步设计与概算"]]),"record_edit"==b.page){var c=$linq(common.getBasicData()).where(function(a){return a.id==b.model.projectIndustry}).toArray()[0];b.model.projectIndustryParent=c.pId,b.projectIndustryChange()}b.model.projectInvestSum=common.toMoney(b.model.projectInvestSum),b.model.projectInvestAccuSum=common.toMoney(b.model.projectInvestAccuSum),b.model.capitalSCZ_ggys=common.toMoney(b.model.capitalSCZ_ggys),b.model.capitalSCZ_gtzj=common.toMoney(b.model.capitalSCZ_gtzj),b.model.capitalSCZ_zxzj=common.toMoney(b.model.capitalSCZ_zxzj),b.model.capitalQCZ_ggys=common.toMoney(b.model.capitalQCZ_ggys),b.model.capitalQCZ_gtzj=common.toMoney(b.model.capitalQCZ_gtzj),b.model.capitalSHTZ=common.toMoney(b.model.capitalSHTZ),b.model.capitalOther=common.toMoney(b.model.capitalOther),b.model.applyYearInvest=common.toMoney(b.model.applyYearInvest),b.capitalTotal=function(){return(parseFloat(b.model.capitalSCZ_ggys)||0)+(parseFloat(b.model.capitalSCZ_gtzj)||0)+(parseFloat(b.model.capitalSCZ_zxzj)||0)+(parseFloat(b.model.capitalQCZ_ggys)||0)+(parseFloat(b.model.capitalQCZ_gtzj)||0)+(parseFloat(b.model.capitalSHTZ)||0)+(parseFloat(b.model.capitalOther)||0)}};common.http({vm:b,$http:a,httpOptions:c,success:d})}function g(b){common.initJqValidation();var d=function(){var a=[["projectConstrChar","required","年度计划信息-项目建设性质必选"],["planYear","required","年度计划信息-计划年度必填"],["applyYearInvest","required","年度计划信息-申请年度投资必填"],["yearConstructionContent","required","年度计划信息-年度建设内容必填"],["shenBaoUnitInfoDto.unitName","required","项目单位信息-单位名称必填"],["shenBaoUnitInfoDto.unitTel","required","项目单位信息-单位电话必填"],["shenBaoUnitInfoDto.unitEmail","required","项目单位信息-单位邮箱必填"],["shenBaoUnitInfoDto.unitProperty","required","项目单位信息-单位性质必选"],["shenBaoUnitInfoDto.divisionId","required","项目单位信息-单位区域必选"],["shenBaoUnitInfoDto.unitAddress","required","项目单位信息-单位地址必填"],["shenBaoUnitInfoDto.unitResPerson","required","项目单位信息-单位负责人名称必填"],["shenBaoUnitInfoDto.resPersonTel","required","项目单位信息-单位负责人电话必填"],["shenBaoUnitInfoDto.resPersonMobile","required","项目单位信息-单位负责人手机必填"],["shenBaoUnitInfoDto.resPersonEmail","required","项目单位信息-单位负责人邮箱必填"],["shenBaoUnitInfoDto.unitContactPerson","required","项目单位信息-项目联系人名称必填"],["shenBaoUnitInfoDto.contactPersonTel","required","项目单位信息-项目联系人电话必填"],["shenBaoUnitInfoDto.contactPersonMobile","required","项目单位信息-项目联系人手机必填"],["shenBaoUnitInfoDto.contactPersonEmail","required","项目单位信息-项目联系人邮箱必填"]];return b.validMessage=[],$.each(a,function(a,c){console.log(c[0]);var d="";if(c[0].indexOf(".")>0){var e=c[0].split(".");d=b.model[e[0]][e[1]]}else d=b.model[c[0]];var f=c[2];if("required"==c[1]){var g=d&&""!=d.trim();g||b.validMessage.push(f)}}),!(b.validMessage.length>0)||void $("#validMsgDialog").modal({backdrop:"static",keyboard:!1})};if(d()){b.isSubmit=!0;var e={method:"post",url:n,data:b.model},f=function(a){common.requestSuccess({vm:b,response:a,fn:function(){common.alert({vm:b,msg:"操作成功,等待管理员签收！",fn:function(){b.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),c.path(o)}})}})};common.http({vm:b,$http:a,httpOptions:e,success:f})}}function h(b){var c={method:"get",url:m},d=function(a){b.model.shenBaoUnitInfoDto=a.data};common.http({vm:b,$http:a,httpOptions:c,success:d})}function i(b){var c={method:"get",url:common.format(l+"?$filter=id eq '{0}'",b.id)},d=function(a){if(b.model=a.data.value[0]||{},"edit"==b.page){b.model.beginDate=common.toDate(b.model.beginDate),b.model.endDate=common.toDate(b.model.endDate),b.model.pifuJYS_date=common.formatDate(b.model.pifuJYS_date),b.model.pifuKXXYJBG_date=common.formatDate(b.model.pifuKXXYJBG_date),b.model.pifuCBSJYGS_date=common.formatDate(b.model.pifuCBSJYGS_date);var c=$linq(common.getBasicData()).where(function(a){return a.id==b.model.projectIndustry}).toArray()[0];b.model.projectIndustryParent=c.pId,b.projectIndustryChange(),b.model.projectInvestSum=common.toMoney(b.model.projectInvestSum),b.model.projectInvestAccuSum=common.toMoney(b.model.projectInvestAccuSum),b.model.capitalSCZ_ggys=common.toMoney(b.model.capitalSCZ_ggys),b.model.capitalSCZ_gtzj=common.toMoney(b.model.capitalSCZ_gtzj),b.model.capitalSCZ_zxzj=common.toMoney(b.model.capitalSCZ_zxzj),b.model.capitalQCZ_ggys=common.toMoney(b.model.capitalQCZ_ggys),b.model.capitalQCZ_gtzj=common.toMoney(b.model.capitalQCZ_gtzj),b.model.capitalSHTZ=common.toMoney(b.model.capitalSHTZ),b.model.capitalOther=common.toMoney(b.model.capitalOther),b.model.applyYearInvest=common.toMoney(b.model.applyYearInvest),b.capitalTotal=function(){return(parseFloat(b.model.capitalSCZ_ggys)||0)+(parseFloat(b.model.capitalSCZ_gtzj)||0)+(parseFloat(b.model.capitalSCZ_zxzj)||0)+(parseFloat(b.model.capitalQCZ_ggys)||0)+(parseFloat(b.model.capitalQCZ_gtzj)||0)+(parseFloat(b.model.capitalSHTZ)||0)+(parseFloat(b.model.capitalOther)||0)},b.model.projectId=b.model.id}b.model.projectShenBaoStage=b.stage,h(b)};common.http({vm:b,$http:a,httpOptions:c,success:d})}function j(a){var b=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(n+"/unit"),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),c=[{field:"projectName",title:"项目名称",template:function(a){return common.format('<a href="#/project/projectInfo/{0}">{1}</a>',a.projectId,a.projectName)},filterable:!0},{field:"processState",title:"审批状态",width:150,filterable:!1,template:function(a){var b=common.getBasicDataDesc(a.processState),c="text-danger";return common.format("<span class='{1}'>{0}</span>",b,c)}},{field:"projectShenBaoStageDesc",title:"申报阶段",width:150,filterable:!1},{field:"planYear",title:"计划年度",width:100,filterable:!1},{field:"",title:"操作",width:150,template:function(a){var b=a.processState==common.basicDataConfig().processState_waitQianShou||a.processState==common.basicDataConfig().processState_tuiWen;return common.format($("#columnBtns").html(),a.id,a.projectShenBaoStage,b?"":"display:none")}}];a.gridOptions_records={dataSource:common.gridDataSource(b),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:c,resizable:!0}}function k(a){var b=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(l),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),c=[{field:"projectName",title:"项目名称",filterable:!0,template:function(a){return common.format('<a href="#/project/projectInfo/{0}">{1}</a>',a.id,a.projectName)}},{field:"projectStageDesc",title:"项目阶段",width:150,filterable:!1},{field:"projectClassifyDesc",title:"项目分类",width:150,filterable:!1},{field:"",title:"操作",width:180,template:function(a){return common.format($("#columnBtns").html(),a.id,a.projectName)}}];a.gridOptions={dataSource:common.gridDataSource(b),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:c,resizable:!0}}var l="/shenbaoAdmin/project/unitProject",m="/shenbaoAdmin/userUnitInfo",n="/shenbaoAdmin/shenbao",o="/shenbao_records",p={grid:k,getProjectById:i,createShenBaoInfo:g,recordsGird:j,getShenBaoInfoById:f,updateShenBaoInfo:e,isHadShenBaoInfo:d};return p}angular.module("app").factory("shenbaoSvc",a),a.$inject=["$http","$compile","$location"]}();