 <div class="bg-danger text-danger" style="padding:10px 0;margin:5px 0; text-align: center; font-weight:bold;">您已填报<span ng-bind="vm.model.monthReport.submitMonth"></span>月数据!</div>
 
<form id="form" name="form">
	<div class="bg-info text-info title">项目名称</div>	
		<table class="table table-hover table-bordered table-striped">				
			<tr>
				<td width="120px;">项目名称：</td>
				<td colspan="2"><span ng-bind="vm.model.projectInfo.projectName"></span>
				</td>
				<td width="120px;">填报月份：</td>
				<td width="80px;"><span ng-bind="vm.model.monthReport.submitMonth"></span> 月 份</td>
			</tr>
		</table>
	
	<div class="bg-info text-info title">项目联系人信息</div>	
		<table class="table table-hover table-bordered table-striped">
			<tr>
				<td>填报人姓名：<span class="required">(*)</span></td>				
				<td colspan="2">
					<input class="form-control input-sm " type="text" ng-model="vm.model.monthReport.fillName"
					style="width: 214px; height: 25px; line-height: 25px;" ng-disabled="vm.isReportExist">
				</td>					
				<td>填报人手机：<span class="required">(*)</span></td>
				
				<td><input class="form-control input-sm " type="text"
					ng-model="vm.model.monthReport.fillMobile"
					style="width: 214px; height: 25px; line-height: 25px;" ng-disabled="vm.isReportExist">
				</td>
			</tr>
			<tr>
				<td>月报负责人姓名：<span class="required">(*)</span></td>				
				<td colspan="2"><input class="form-control input-sm " type="text"
					ng-model="vm.model.monthReport.monRepManagerName"
					style="width: 214px; height: 25px; line-height: 25px;" ng-disabled="vm.isReportExist">
				</td>
				<td>月报负责人手机：<span class="required">(*)</span></td>				
				<td><input class="form-control input-sm " type="text"
					ng-model="vm.model.monthReport.monRepManagerTel"
					style="width: 214px; height: 25px; line-height: 25px;" ng-disabled="vm.isReportExist">
				</td>
			</tr>
			<tr>
				<td>月报负责人传真：</td>
				<td colspan="2"><input class="form-control input-sm " type="text"
					ng-model="vm.model.monthReport.monRepManagerFax"
					style="width: 214px; height: 25px; line-height: 25px;" ng-disabled="vm.isReportExist">
				</td>
				<td>月报责任单位名称：</td>
				<td><input class="form-control input-sm " type="text"
					ng-model="vm.model.monthReport.monRepManagUnitName"
					style="width: 214px; height: 25px; line-height: 25px;" ng-disabled="vm.isReportExist">
				</td>
			</tr>
			<tr>
				<td>项目责任单位负责人：</td>
				<td colspan="2"><input class="form-control input-sm " type="text"
					ng-model="vm.model.monthReport.respUnitManagerName"
					style="width: 214px; height: 25px; line-height: 25px;" ng-disabled="vm.isReportExist">
				</td>
				<td>项目责任单位负责人电话：</td>
				<td><input class="form-control input-sm " type="text"
					ng-model="vm.model.monthReport.respUnitManagerTel"
					style="width: 214px; height: 25px; line-height: 25px;" ng-disabled="vm.isReportExist">
				</td>
			</tr>
		</table>
			
	<div class="bg-info text-info title">项目批复信息</div>
		<table class="table table-hover table-bordered table-striped">
			<tr>
				<td width=20%>项目建议书批复日期：</td>
				<td colspan="2" width=25%>
					<span ng-bind="vm.date(vm.model.monthReport.proposalsReplyDate) | date:'yyyy-MM-dd'"></span>
				</td>
				<td width=25%>项目建议书批文号：</td>
				<td>
					<span ng-bind="vm.model.monthReport.proposalsTypeDisplay"></span>
					<span ng-bind="vm.date(vm.model.monthReport.proposalsYear) | date:'yyyy'"></span>年
					<span ng-bind="vm.model.monthReport.proposalsNum"></span>号				
				</td>
			</tr>									
			<tr>
				<td>可行性研究报告批复日期：</td>
				<td colspan="2">
					<span ng-bind="vm.date(vm.model.monthReport.feaStyRepoReplyDate) | date:'yyyy-MM-dd'"></span>
				</td>
				<td>可行性研究报告批文号：</td>
				<td>
					<span ng-bind="vm.model.monthReport.reportTypeDisplay"></span>
					<span ng-bind="vm.data(vm.model.monthReport.reportYear) | date:'yyyy'"></span>年
					<span ng-bind="vm.model.monthReport.reportNum"></span>号
				</td>
			</tr>
			<tr>
				<td>项目总概算批复日期：</td>
				<td colspan="2">
					<span ng-bind="vm.date(vm.model.monthReport.allEstimateReplyDate) | date:'yyyy-MM-dd'"></span>
				</td>
				<td>项目总概算批复文号：</td>
				<td>
					<span ng-bind="vm.model.monthReport.allEstimateTypeDisplay"></span>
					<span ng-bind="vm.date(vm.model.monthReport.allEstimateYear) | date:'yyyy'"></span>年
					<span ng-bind="vm.model.monthReport.allEstimateNum"></span>号														
				</td>
			</tr>
		</table>
		
	<div class="bg-info text-info title">项目进度信息</div>	
		<table class="table table-hover table-bordered table-striped">
			<tr>
				<td>开工日期：<span class="required">(*)</span></td>
				<td colspan="2" ng-bind="vm.date(vm.model.monthReport.actuallyDate) | date:'yyyy-MM-dd'"></td>					
				<td>竣工日期：<span class="required">(*)</span></td>				
				<td colspan="2" ng-bind="vm.date(vm.model.monthReport.completedDate) | date:'yyyy-MM-dd'"></td>				
			</tr>
			<tr>
				<td>项目总投资：<span class="required">(*)</span></td>				
				<td colspan="2">
					<span ng-bind="vm.money(vm.model.monthReport.invertPlanTotal) | number:4"></span>&nbsp;（万元）					
				</td>
				<td>至今完成投资：<span class="required">(*)</span></td>
				<td colspan="2">
					<span ng-bind="vm.money(vm.model.monthReport.actuallyFinishiInvestment) | number:4"></span>&nbsp;（万元）
				</td>
			</tr>
			<tr>
				<td>本年度计划完成投资：<span class="required">(*)</span>
				</td>
				<td colspan="2">
					<span ng-bind="vm.money(vm.model.monthReport.thisYearPlanInvestment) | number:4"></span>&nbsp;（万元）					
				</td>
				<td>本年度已完成投资：<span class="required">(*)</span>
				</td>
				<td>
					<span ng-bind="vm.money(vm.model.monthReport.thisYearAccumulatedInvestment) | number:4"></span>&nbsp;（万元）					
				</td>
			</tr>					
			<tr>					
				<td>本月完成投资：<span class="required">(*)</span></td>				
				<td colspan="2">
					<span ng-bind="vm.money(vm.model.monthReport.thisMonthInvestTotal) | number:4"></span>&nbsp;（万元）					
				</td>
				<td >是否完成竣工决算</td>
				<td>
					<span ng-if="vm.model.monthReport.isCompletion == '1'">是</span>
					<span ng-if="vm.model.monthReport.isCompletion == '0'">否</span>
				</td>
			</tr>
			<tr>
				<td style="line-height: 18px">年度工作目标：<span class="required">(*)</span>
				</td>
				<td colspan="4" style="padding: 10px;"><textarea
						ng-model="vm.model.monthReport.workTargets" rows="3" cols="20"
						mark_maxlength="200"
						mark_tip="您还可以输入<font size='5'>{0}</font>个字符！"
						data-validation-placeholder="年度工作目标(200字符以内)"
						placeholder="年度工作目标(200字符以内)"
						style="height: 120px; width: 640px;" ng-disabled="vm.isReportExist"></textarea>
			</tr>
			<tr>
				<td>项目审批进度：</td>
				<td colspan="4" style="padding: 10px;"> <textarea
						ng-model="vm.model.monthReport.projectApprovalProgress" rows="3" cols="20"
						mark_maxlength="200"
						mark_tip="您还可以输入<font size='5'>{0}</font>个字符！"
						data-validation-placeholder="填写项目涉及到的选址、用地、规划、消防、人防、环评、项目建议书、可行性研究报告、概算等重要审批环节的审批进度。"
						placeholder="填写项目涉及到的选址、用地、规划、消防、人防、环评、项目建议书、可行性研究报告、概算等重要审批环节的审批进度。"
						style="height: 120px; width: 640px; color: rgb(169, 169, 169);" ng-disabled="vm.isReportExist"></textarea>
			</tr>
			<tr>
				<td style="line-height: 18px">工程形象进度或<br>项目进度情况：<span
					class="required">(*)</span>

				</td>
				<td colspan="4" style="padding: 10px;">
					<div>
						
						<textarea ng-model="vm.model.monthReport.projectImageProgress" rows="3"
							cols="20" mark_maxlength="200"
							mark_tip="您还可以输入<font size='5'>{0}</font>个字符！"
							data-validation-placeholder="工程形象进度或项目进度情况(200字符以内)"
							placeholder="工程形象进度或项目进度情况(200字符以内)"
							style="height: 120px; width: 640px; color: rgb(169, 169, 169);" ng-disabled="vm.isReportExist"></textarea>
					</div>
				</td>
			</tr>					
			<tr>
				<td rowspan="5">进度安排<span class="required">(*)</span>
				</td>
				<td colspan="4">
					<span ng-bind="vm.model.monthReport.selfReviewDisplay"></span>
				</td>			
			</tr>
			<tr>
				<td colspan="4">
					<p>
						预计1到3月份完成投资（万元）：
						<span ng-bind="vm.money(vm.model.monthReport.firstQuarCompInvestment) | number:4"></span>						 
					</p>
					
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<p>
						预计1到6月份完成投资（万元）： 
						<span ng-bind="vm.money(vm.model.monthReport.secondQuarCompInvestment) | number:4"></span>
					</p>
					
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<p>
						预计1到9月份完成投资（万元）： 
						<span ng-bind="vm.money(vm.model.monthReport.thirdQuarCompInvestment) | number:4"></span>
					</p>
					
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<p>
						预计1到12月份完成投资（万元）： 
						<span ng-bind="vm.money(vm.model.monthReport.fourthQuarCompInvestment) | number:4"></span>
					</p>
					
				</td>
			</tr>
		</table>
		
	<div class="bg-info text-info title">问题与备注</div>
		<table class="table table-hover table-bordered table-striped">
			<tr>
				<td>项目存在问题：</td>
				<td colspan="4" style="padding:5px;">
					<table class="table table-hover table-bordered table-striped" >
						<tbody>
							<tr class="bg-info" style="font-weight:bold">
								<td>序号</td>
								<td>问题简介</td>
								<td>解决措施及建议</td>
								<td><input class="btn btn-success btn-xs" type="button"
									ng-click="vm.createProblem()" value="添加问题" ng-disabled="vm.isReportExist"></td>
							</tr>
							<tr ng-repeat="x in vm.model.monthReport.monthReportProblemsDto">
								<td><span>{{$index+1}}</span></td>
								<td><textarea style='height: 102px; width: 307px;'
										placeholder='填写项目所存在的问题。'
										data-validation-placeholder='填写项目所存在的问题。' cols='20' rows='2' ng-model="vm.model.monthReport.monthReportProblemsDto[$index].problemIntroduction" ng-disabled="vm.isReportExist"></textarea>
								</td>
								<td><textarea style='height: 102px; width: 307px;'
										placeholder='填写项目所存在的问题。'
										data-validation-placeholder='填写项目所存在的问题。' cols='20' rows='2' ng-model="vm.model.monthReport.monthReportProblemsDto[$index].solutionsAndSuggest" ng-disabled="vm.isReportExist"></textarea>
								</td>
								<td><input class='btn btn-xs btn-danger' type='button'
									ng-click='vm.deleteProblem($index)' value='删除问题' ng-disabled="vm.isReportExist"/></td>
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
			<tr>
				<td>备注：</td>
				<td colspan="4"><textarea ng-model="vm.model.monthReport.remark" rows="3"
						cols="20" mark_maxlength="200"
						mark_tip="您还可以输入<font size='5'>{0}</font>个字符！"
						data-validation-placeholder="" placeholder=""
						style="height: 120px; width: 640px; color: rgb(169, 169, 169);" ng-disabled="vm.isReportExist"></textarea>
				</td>
			</tr>
		</table>
		
	<div class="bg-info text-info title">文件上传</div>
		<div style="display: block;">
		<table width="100%" class="table table-striped table-bordered table-hover">					
			<tbody>
				<tr>
					<td>
						<span style="padding: 10px 15px; line-height: 24px; display: inline-block; color: #09F;">
							注意：请严格按照以下附件类型上传正确的文件<br>
							允许上传的文件类型：图片(.jpg,.gif,.png)<br>						
						</span>
						<table style="width: 98%;" class="table table-hover table-bordered table-striped">									
							<tbody>
								<tr>
									<th width="10%" align="center" scope="col">附件类型</th>
									<th width="10%" align="center" scope="col">附件上传</th>
									<th width="30%" align="center" scope="col">附件名称</th>	
								</tr>
								<tr ng-repeat="x in vm.uploadType">
									<td rowspan="1"><span>{{x[1]}}</span></td>
									<td rowspan="1">
										<div class="uploadBox"  data-type="{{x[0]}}">
										  <input name="files"
							                   type="file"
							                   kendo-upload
							                   k-async="{saveUrl:'/common/save',removeUrl:'/common/remove',autoUpload:true}"
							                   k-error="vm.uploadSuccess"
							                   k-localization="{select:'上传文件'}"
							                   k-showFileList="false"
							                  
							                   ng-disabled="vm.isReportExist"/>
										</div>
									</td>
									<td >
									 <div style="margin:3px;" 
									 	  ng-repeat="y in vm.model.monthReport.attachmentsDto" 
									 	  ng-show="y.type=='{{x[0]}}'"
									 		>
										 <a href="/contents/upload/{{y.url}}" target="_blank" ng-bind="y.name"></a>
										<button class="btn btn-xs btn-danger" ng-click="vm.delFile($index)" ng-disabled="vm.isReportExist">删除</button>
									 </div>
									
									</td>															
								</tr>
							</tbody>
						</table>
					</td>
				</tr>						
			</tbody>
		</table>
		</div>
</form>
	